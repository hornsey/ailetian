<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown编辑器 - 乐天 Letian</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        .markdown-preview {
            line-height: 1.6;
        }
        .markdown-preview h1 { font-size: 2em; font-weight: bold; margin: 0.67em 0; }
        .markdown-preview h2 { font-size: 1.5em; font-weight: bold; margin: 0.75em 0; }
        .markdown-preview h3 { font-size: 1.17em; font-weight: bold; margin: 0.83em 0; }
        .markdown-preview p { margin: 1em 0; }
        .markdown-preview ul, .markdown-preview ol { margin: 1em 0; padding-left: 2em; }
        .markdown-preview code { background: #f1f5f9; padding: 0.2em 0.4em; border-radius: 3px; font-family: monospace; }
        .markdown-preview pre { background: #f1f5f9; padding: 1em; border-radius: 6px; overflow-x: auto; }
        .markdown-preview pre code { background: none; padding: 0; }
        .markdown-preview blockquote { border-left: 4px solid #cbd5e1; padding-left: 1em; margin: 1em 0; color: #64748b; }
        .markdown-preview a { color: #2563eb; text-decoration: underline; }
        .markdown-preview table { border-collapse: collapse; width: 100%; margin: 1em 0; }
        .markdown-preview th, .markdown-preview td { border: 1px solid #cbd5e1; padding: 0.5em; }
        .markdown-preview th { background: #f1f5f9; font-weight: bold; }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50">
    <!-- 头部导航 -->
    <nav class="fixed top-0 w-full bg-white/80 backdrop-blur-md border-b border-slate-200 z-50">
        <div class="max-w-7xl mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <a href="/" class="text-xl font-bold text-slate-800">乐天 Letian</a>
                <div class="flex items-center space-x-4">
                    <button onclick="downloadMarkdown()" class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm">
                        下载 Markdown
                    </button>
                    <a href="/" class="text-slate-600 hover:text-slate-900 transition-colors">返回首页</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- 主要内容 -->
    <main class="pt-24 pb-16">
        <div class="max-w-7xl mx-auto px-6">
            <div class="bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden">
                <div class="border-b border-slate-200 p-4">
                    <h1 class="text-2xl font-bold text-slate-800">Markdown编辑器</h1>
                    <p class="text-slate-600 text-sm mt-1">实时预览Markdown效果</p>
                </div>

                <div class="grid md:grid-cols-2 divide-x divide-slate-200">
                    <!-- 编辑区 -->
                    <div class="p-6">
                        <h3 class="text-sm font-semibold text-slate-700 mb-3">编辑区</h3>
                        <textarea id="markdownInput" rows="20" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm" placeholder="# 欢迎使用 Markdown 编辑器

## 功能特点
- 实时预览
- 支持标准 Markdown 语法
- 简洁易用

## 示例代码
```javascript
console.log('Hello, World!');
```

**粗体文本** 和 *斜体文本*

> 这是一个引用块

[链接示例](https://ailetian.space)"></textarea>
                    </div>

                    <!-- 预览区 -->
                    <div class="p-6 bg-slate-50">
                        <h3 class="text-sm font-semibold text-slate-700 mb-3">预览区</h3>
                        <div id="markdownPreview" class="markdown-preview prose max-w-none"></div>
                    </div>
                </div>
            </div>

            <!-- 快速参考 -->
            <div class="mt-6 bg-white rounded-2xl p-6 shadow-lg border border-slate-200">
                <h3 class="text-lg font-semibold text-slate-800 mb-4">Markdown 快速参考</h3>
                <div class="grid md:grid-cols-3 gap-4 text-sm">
                    <div>
                        <div class="font-medium text-slate-700 mb-2">标题</div>
                        <code class="text-xs bg-slate-100 px-2 py-1 rounded"># H1 ## H2 ### H3</code>
                    </div>
                    <div>
                        <div class="font-medium text-slate-700 mb-2">强调</div>
                        <code class="text-xs bg-slate-100 px-2 py-1 rounded">**粗体** *斜体*</code>
                    </div>
                    <div>
                        <div class="font-medium text-slate-700 mb-2">列表</div>
                        <code class="text-xs bg-slate-100 px-2 py-1 rounded">- 项目 1. 编号</code>
                    </div>
                    <div>
                        <div class="font-medium text-slate-700 mb-2">链接</div>
                        <code class="text-xs bg-slate-100 px-2 py-1 rounded">[文本](URL)</code>
                    </div>
                    <div>
                        <div class="font-medium text-slate-700 mb-2">图片</div>
                        <code class="text-xs bg-slate-100 px-2 py-1 rounded">![alt](URL)</code>
                    </div>
                    <div>
                        <div class="font-medium text-slate-700 mb-2">代码</div>
                        <code class="text-xs bg-slate-100 px-2 py-1 rounded">`code` ```block```</code>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        const input = document.getElementById('markdownInput');
        const preview = document.getElementById('markdownPreview');

        // 实时预览
        input.addEventListener('input', () => {
            const markdown = input.value;
            preview.innerHTML = marked.parse(markdown);
        });

        // 初始化预览
        preview.innerHTML = marked.parse(input.value);

        // 下载功能
        function downloadMarkdown() {
            const text = input.value;
            if (!text.trim()) {
                alert('请先输入内容');
                return;
            }

            const blob = new Blob([text], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'document.md';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
